document.querySelectorAll(".rating").forEach(s=>{s.querySelectorAll(".star").forEach(t=>{t.addEventListener("mouseover",function(){const a=this.getAttribute("data-value");this.parentNode.querySelectorAll(".star").forEach(e=>{e.getAttribute("data-value")>a?e.classList.remove("selected"):e.classList.add("selected")})}),t.addEventListener("click",function(){this.parentNode.querySelectorAll(".star").forEach(e=>e.classList.remove("permanent-selected"));const a=this.getAttribute("data-value");this.parentNode.querySelectorAll(".star").forEach(e=>{e.getAttribute("data-value")<=a&&e.classList.add("permanent-selected")})})}),s.addEventListener("mouseleave",function(){this.querySelectorAll(".star").forEach(t=>{t.classList.contains("permanent-selected")||t.classList.remove("selected")})})});
